{erl_first_files, [
    "src/http/rest/rest_behaviour.erl",
    "src/modules/service/service_behaviour.erl"
]}.

{sub_dirs, ["rel"]}.

{lib_dirs, ["deps"]}.

{erl_opts, [
    fail_on_warning,
    {src_dirs, ["src"]}
]}.

{eunit_opts, [
    verbose,
    {report, {eunit_surefire, [{dir, "../test/eunit_results"}]}}
]}.

{cover_enabled, true}.
{cover_export_enabled, true}.

{deps, [
    {ctool, "3.0.0-alpha3", {git, "${ONEDATA_GIT_URL}/ctool.git", {tag, "fa3b6865c8d"}}},
    {node_package, ".*", {git, "git://github.com/onedata/node_package.git", {branch, "2.0.2"}}}
]}.

{plugins, [rebar_git_plugin, rebar_annotations_plugin]}.

{pre_hooks, [
    {eunit, "mkdir -p test/eunit_results"}
]}.

{clean_files, [
    "./test/eunit_results",
    "./test_distributed/logs/*",
    "./test_distributed/*.beam"
]}.
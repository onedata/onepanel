[
    %% SASL config
    {sasl, [
        {sasl_error_logger, false}
    ]},

    %% lager config
    {lager, [
        {handlers, [
            %% show info level or higher level logs at console
            {lager_console_backend, info},
            %% rotate error log once a month (first day of month, 1 a.m) or when it reaches 1 GB; keep 1000 rotated logs
            {lager_file_backend, [{file, "{{platform_log_dir}}/error.log"}, {level, error}, {size, 1048576000}, {date, "$M1D1"}, {count, 1000}]},
            %% rotate info log once a week (friday at 11 p.m) or when it reaches 100 MB; keep 100 rotated logs
            {lager_file_backend, [{file, "{{platform_log_dir}}/info.log"}, {level, info}, {size, 104857600}, {date, "$W5D23"}, {count, 100}]},
            %% rotate info log once a day (at midnight) or when it reaches 10 MB; keep 10 rotated logs
            {lager_file_backend, [{file, "{{platform_log_dir}}/debug.log"}, {level, debug}, {size, 10485760}, {date, "$D0"}, {count, 10}]}
        ]},
        {error_logger_hwm, 200},
        % When lager should change mode to synchronous (log queue is longer than async_threshold)
        {async_threshold, 500},
        % When lager should return from mode to synchronous (log queue is shorter than (async_threshold - async_threshold_window)
        {async_threshold_window, 50}
    ]},

    %% mnesia config
    {mnesia, [
        {dir, "database"}
    ]},

    %% onepanel config
    {onepanel, [
        {multicast_address, "239.255.0.1"},
        {updater_start_delay, 1000},
        {updater_lookup_delay, 60000},
        {summary_chart_update_delay, 60},
        {host_chart_update_delay, 10},
        {cert_file, "{{platform_data_dir}}/certs/server.crt"},
        {key_file, "{{platform_data_dir}}/certs/server.key"},
        {grpkey_path, "{{platform_data_dir}}/certs/grpkey.pem"},
        {grpcsr_file, "{{platform_data_dir}}/certs/grpcsr.pem"},
        {grpcert_path, "{{platform_data_dir}}/certs/grpcert.pem"},
        {grpcacert_path, "{{platform_data_dir}}/certs/grpca.pem"},
        {globalregistry_url, "https://onedata.org:8443"},
        {onedata_repository_url, "http://packages.onedata.org"},
        {gui_static_root, "{{platform_data_dir}}/gui_static"},
        {nif_prefix_dir, "{{platform_lib_dir}}/c_lib"},

        % oneprovider specific data
        {platform_etc_dir, "/etc/"},
        {platform_lib_dir, "/usr/lib/"},
        {platform_data_dir, "/var/lib/"},
        {platform_bin_dir, "/usr/sbin/"},
        {grpkey_name, "grpkey.pem"},
        {grpcert_name, "grpcert.pem"}
    ]}
].

